import{c as V,h as G,a as te,b as J}from"./render.8e7b9b06.js";import{c,h as g,w as p,k as _,r as z,l as M,a as N,m as B,g as H,p as Z,n as oe,q as ee,o as ne,s as ae,t as le,u as R,b as re,v as D,x as U,y as L,d as m,z as O,A as ie,B as ue,C as se,D as ce,E as de,G as fe,H as ve}from"./index.50a4694c.js";import{u as he,a as me,b as ge,Q as P,c as I,d as j,e as pe}from"./QToolbar.dcdeb413.js";import{u as be,a as ye,c as K,g as we,Q as X}from"./QBtn.807dccc1.js";import{u as xe}from"./app-store.03c72812.js";var ze=V({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:s}){const a=c(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>g("div",{class:a.value},G(s.default))}}),E=V({name:"QRouteTab",props:{...be,...he},emits:me,setup(e,{slots:s,emit:a}){const n=ye({useDisableForRouterLinkProps:!1}),{renderTab:t,$tabs:u}=ge(e,s,a,{exact:c(()=>e.exact),...n});return p(()=>`${e.name} | ${e.exact} | ${(n.resolvedLink.value||{}).href}`,()=>{u.verifyRouteModel()}),()=>t(n.linkTag.value,n.linkAttrs.value)}}),Te=V({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:s,emit:a}){const{proxy:{$q:n}}=H(),t=N(B,_);if(t===_)return console.error("QHeader needs to be child of QLayout"),_;const u=z(parseInt(e.heightHint,10)),i=z(!0),b=c(()=>e.reveal===!0||t.view.value.indexOf("H")>-1||n.platform.is.ios&&t.isContainer.value===!0),f=c(()=>{if(e.modelValue!==!0)return 0;if(b.value===!0)return i.value===!0?u.value:0;const l=u.value-t.scroll.value.position;return l>0?l:0}),v=c(()=>e.modelValue!==!0||b.value===!0&&i.value!==!0),S=c(()=>e.modelValue===!0&&v.value===!0&&e.reveal===!0),T=c(()=>"q-header q-layout__section--marginal "+(b.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(v.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),C=c(()=>{const l=t.rows.value.top,w={};return l[0]==="l"&&t.left.space===!0&&(w[n.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),l[2]==="r"&&t.right.space===!0&&(w[n.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),w});function d(l,w){t.update("header",l,w)}function x(l,w){l.value!==w&&(l.value=w)}function y({height:l}){x(u,l),d("size",l)}function q(l){S.value===!0&&x(i,!0),a("focusin",l)}p(()=>e.modelValue,l=>{d("space",l),x(i,!0),t.animate()}),p(f,l=>{d("offset",l)}),p(()=>e.reveal,l=>{l===!1&&x(i,e.modelValue)}),p(i,l=>{t.animate(),a("reveal",l)}),p(t.scroll,l=>{e.reveal===!0&&x(i,l.direction==="up"||l.position<=e.revealOffset||l.position-l.inflectionPoint<100)});const $={};return t.instances.header=$,e.modelValue===!0&&d("size",u.value),d("space",e.modelValue),d("offset",f.value),M(()=>{t.instances.header===$&&(t.instances.header=void 0,d("size",0),d("offset",0),d("space",!1))}),()=>{const l=te(s.default,[]);return e.elevated===!0&&l.push(g("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),l.push(g(P,{debounce:0,onResize:y})),g("header",{class:T.value,style:C.value,onFocusin:q},l)}}}),Se=V({name:"QPageContainer",setup(e,{slots:s}){const{proxy:{$q:a}}=H(),n=N(B,_);if(n===_)return console.error("QPageContainer needs to be child of QLayout"),_;Z(oe,!0);const t=c(()=>{const u={};return n.header.space===!0&&(u.paddingTop=`${n.header.size}px`),n.right.space===!0&&(u[`padding${a.lang.rtl===!0?"Left":"Right"}`]=`${n.right.size}px`),n.footer.space===!0&&(u.paddingBottom=`${n.footer.size}px`),n.left.space===!0&&(u[`padding${a.lang.rtl===!0?"Right":"Left"}`]=`${n.left.size}px`),u});return()=>g("div",{class:"q-page-container",style:t.value},G(s.default))}}),Ce=V({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:s,emit:a}){const{proxy:{$q:n}}=H(),t=N(B,_);if(t===_)return console.error("QFooter needs to be child of QLayout"),_;const u=z(parseInt(e.heightHint,10)),i=z(!0),b=z(ee.value===!0||t.isContainer.value===!0?0:window.innerHeight),f=c(()=>e.reveal===!0||t.view.value.indexOf("F")>-1||n.platform.is.ios&&t.isContainer.value===!0),v=c(()=>t.isContainer.value===!0?t.containerHeight.value:b.value),S=c(()=>{if(e.modelValue!==!0)return 0;if(f.value===!0)return i.value===!0?u.value:0;const o=t.scroll.value.position+v.value+u.value-t.height.value;return o>0?o:0}),T=c(()=>e.modelValue!==!0||f.value===!0&&i.value!==!0),C=c(()=>e.modelValue===!0&&T.value===!0&&e.reveal===!0),d=c(()=>"q-footer q-layout__section--marginal "+(f.value===!0?"fixed":"absolute")+"-bottom"+(e.bordered===!0?" q-footer--bordered":"")+(T.value===!0?" q-footer--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus"+(f.value!==!0?" hidden":""):"")),x=c(()=>{const o=t.rows.value.bottom,h={};return o[0]==="l"&&t.left.space===!0&&(h[n.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),o[2]==="r"&&t.right.space===!0&&(h[n.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),h});function y(o,h){t.update("footer",o,h)}function q(o,h){o.value!==h&&(o.value=h)}function $({height:o}){q(u,o),y("size",o)}function l(){if(e.reveal!==!0)return;const{direction:o,position:h,inflectionPoint:Q}=t.scroll.value;q(i,o==="up"||h-Q<100||t.height.value-v.value-h-u.value<300)}function w(o){C.value===!0&&q(i,!0),a("focusin",o)}p(()=>e.modelValue,o=>{y("space",o),q(i,!0),t.animate()}),p(S,o=>{y("offset",o)}),p(()=>e.reveal,o=>{o===!1&&q(i,e.modelValue)}),p(i,o=>{t.animate(),a("reveal",o)}),p([u,t.scroll,t.height],l),p(()=>n.screen.height,o=>{t.isContainer.value!==!0&&q(b,o)});const r={};return t.instances.footer=r,e.modelValue===!0&&y("size",u.value),y("space",e.modelValue),y("offset",S.value),M(()=>{t.instances.footer===r&&(t.instances.footer=void 0,y("size",0),y("offset",0),y("space",!1))}),()=>{const o=J(s.default,[g(P,{debounce:0,onResize:$})]);return e.elevated===!0&&o.push(g("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),g("footer",{class:d.value,style:x.value,onFocusin:w},o)}}});const qe=[null,document,document.body,document.scrollingElement,document.documentElement];function Le(e,s){let a=we(s);if(a===void 0){if(e==null)return window;a=e.closest(".scroll,.scroll-y,.overflow-auto")}return qe.includes(a)?window:a}function _e(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function $e(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}let k;function A(){if(k!==void 0)return k;const e=document.createElement("p"),s=document.createElement("div");K(e,{width:"100%",height:"200px"}),K(s,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),s.appendChild(e),document.body.appendChild(s);const a=e.offsetWidth;s.style.overflow="scroll";let n=e.offsetWidth;return a===n&&(n=s.clientWidth),s.remove(),k=a-n,k}const{passive:Y}=le,Qe=["both","horizontal","vertical"];var Ve=V({name:"QScrollObserver",props:{axis:{type:String,validator:e=>Qe.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:{default:void 0}},emits:["scroll"],setup(e,{emit:s}){const a={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let n=null,t,u;p(()=>e.scrollTarget,()=>{f(),b()});function i(){n!==null&&n();const T=Math.max(0,_e(t)),C=$e(t),d={top:T-a.position.top,left:C-a.position.left};if(e.axis==="vertical"&&d.top===0||e.axis==="horizontal"&&d.left===0)return;const x=Math.abs(d.top)>=Math.abs(d.left)?d.top<0?"up":"down":d.left<0?"left":"right";a.position={top:T,left:C},a.directionChanged=a.direction!==x,a.delta=d,a.directionChanged===!0&&(a.direction=x,a.inflectionPoint=a.position),s("scroll",{...a})}function b(){t=Le(u,e.scrollTarget),t.addEventListener("scroll",v,Y),v(!0)}function f(){t!==void 0&&(t.removeEventListener("scroll",v,Y),t=void 0)}function v(T){if(T===!0||e.debounce===0||e.debounce==="0")i();else if(n===null){const[C,d]=e.debounce?[setTimeout(i,e.debounce),clearTimeout]:[requestAnimationFrame(i),cancelAnimationFrame];n=()=>{d(C),n=null}}}const{proxy:S}=H();return p(()=>S.$q.lang.rtl,i),ne(()=>{u=S.$el.parentNode,b()}),M(()=>{n!==null&&n(),f()}),Object.assign(S,{trigger:v,getPosition:()=>a}),ae}}),He=V({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:s,emit:a}){const{proxy:{$q:n}}=H(),t=z(null),u=z(n.screen.height),i=z(e.container===!0?0:n.screen.width),b=z({position:0,direction:"down",inflectionPoint:0}),f=z(0),v=z(ee.value===!0?0:A()),S=c(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),T=c(()=>e.container===!1?{minHeight:n.screen.height+"px"}:null),C=c(()=>v.value!==0?{[n.lang.rtl===!0?"left":"right"]:`${v.value}px`}:null),d=c(()=>v.value!==0?{[n.lang.rtl===!0?"right":"left"]:0,[n.lang.rtl===!0?"left":"right"]:`-${v.value}px`,width:`calc(100% + ${v.value}px)`}:null);function x(r){if(e.container===!0||document.qScrollPrevented!==!0){const o={position:r.position.top,direction:r.direction,directionChanged:r.directionChanged,inflectionPoint:r.inflectionPoint.top,delta:r.delta.top};b.value=o,e.onScroll!==void 0&&a("scroll",o)}}function y(r){const{height:o,width:h}=r;let Q=!1;u.value!==o&&(Q=!0,u.value=o,e.onScrollHeight!==void 0&&a("scrollHeight",o),$()),i.value!==h&&(Q=!0,i.value=h),Q===!0&&e.onResize!==void 0&&a("resize",r)}function q({height:r}){f.value!==r&&(f.value=r,$())}function $(){if(e.container===!0){const r=u.value>f.value?A():0;v.value!==r&&(v.value=r)}}let l=null;const w={instances:{},view:c(()=>e.view),isContainer:c(()=>e.container),rootRef:t,height:u,containerHeight:f,scrollbarWidth:v,totalWidth:c(()=>i.value+v.value),rows:c(()=>{const r=e.view.toLowerCase().split(" ");return{top:r[0].split(""),middle:r[1].split(""),bottom:r[2].split("")}}),header:R({size:0,offset:0,space:!1}),right:R({size:300,offset:0,space:!1}),footer:R({size:0,offset:0,space:!1}),left:R({size:300,offset:0,space:!1}),scroll:b,animate(){l!==null?clearTimeout(l):document.body.classList.add("q-body--layout-animate"),l=setTimeout(()=>{l=null,document.body.classList.remove("q-body--layout-animate")},155)},update(r,o,h){w[r][o]=h}};if(Z(B,w),A()>0){let h=function(){r=null,o.classList.remove("hide-scrollbar")},Q=function(){if(r===null){if(o.scrollHeight>n.screen.height)return;o.classList.add("hide-scrollbar")}else clearTimeout(r);r=setTimeout(h,300)},F=function(W){r!==null&&W==="remove"&&(clearTimeout(r),h()),window[`${W}EventListener`]("resize",Q)},r=null;const o=document.body;p(()=>e.container!==!0?"add":"remove",F),e.container!==!0&&F("add"),re(()=>{F("remove")})}return()=>{const r=J(s.default,[g(Ve,{onScroll:x}),g(P,{onResize:y})]),o=g("div",{class:S.value,style:T.value,ref:e.container===!0?void 0:t,tabindex:-1},r);return e.container===!0?g("div",{class:"q-layout-container overflow-hidden",ref:t},[g(P,{onResize:q}),g("div",{class:"absolute-full",style:C.value},[g("div",{class:"scroll",style:d.value},[o])])]):o}}});const Re=ce("a",{href:"https://eralegis.info/",target:"blank",class:"thelemic-date"},"\u2609\uFE0E in 25\xB0 Aquarii : \u263D\uFE0E in 8\xB0 Sagittarii : dies Martis : Anno \u2164\u2174\u2170\u2170\u2170 \xE6r\xE6 legis",-1),Ee={__name:"MainLayout",setup(e){const s=z("home"),a=de(),n=fe(),t=xe();return(u,i)=>{const b=ve("router-view");return D(),U(He,{view:"lHh Lpr lFf",class:"background-color"},{default:L(()=>[m(Te,{class:"app-header background-color"},{default:L(()=>[m(I,null,{default:L(()=>[m(ze,{class:"cursor-pointer",onClick:i[0]||(i[0]=f=>O(a).push("/"))},{default:L(()=>[ie(" Liber Legis ")]),_:1}),m(j),m(pe,{"no-caps":"",modelValue:s.value,"onUpdate:modelValue":i[1]||(i[1]=f=>s.value=f),shrink:""},{default:L(()=>[m(E,{exact:"",name:"chapter1",label:"Chapter One",to:"/chapter-one"}),m(E,{exact:"",name:"chapter2",label:"Chapter Two",to:"/chapter-two"}),m(E,{exact:"",name:"chapter3",label:"Chapter Three",to:"/chapter-three"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),m(Se,{class:"app-container"},{default:L(()=>[m(b,null,{default:L(({Component:f})=>[m(ue,{name:O(t).routeAnimation,mode:"out-in"},{default:L(()=>[(D(),U(se(f),{key:O(n).path}))]),_:2},1032,["name"])]),_:1})]),_:1}),m(Ce,{class:"app-footer background-color"},{default:L(()=>[m(I,null,{default:L(()=>[m(X,{flat:"",round:"",dense:"",icon:"las la-keyboard",class:"q-mr-sm"}),m(X,{flat:"",round:"",dense:"",icon:"search"}),m(j),Re]),_:1})]),_:1})]),_:1})}}};export{Ee as default};
